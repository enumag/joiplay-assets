This directory contains rubygems/version and rubyzip gems for JoiPlay.

Unlike mkxp-z JoiPlay isn't compatible with the full standard library, so instead I had to pick just the gems we need and adjust them slightly to make them work on JoiPlay. These edited gems aren't used on any other platform.

This means that they were only tested to work reliably for the specific scenario of the built-in updater but may not work otherwise.

Don't be confused that they aren't directly loaded anywhere. The main release GitHub workflow moves them to where they need to be.

Here I'm documenting the adjustments I had to do to make these gems work. Please avoid editing them further or using them for other purposes if you can.

The standard library gems are copied from Ruby 3.2.2.
The rubyzip gem is based on version 3.2.2.

rubygems.rb only contains the module definition and loads version.rb
rubygems/version.rb had deprecations disabled
zip/constants.rb had RUNNING_ON_WINDOWS hardcoded to false
zip/file.rb has the conditions in commit method swapped (`return if name.kind_of?(StringIO) || !commit_required?` => `return if !commit_required? || name.kind_of?(StringIO)`)
zip/extra_field.rb, zip/extra_field/ntfs.rb and zip/extra_field/zip64.rb had `.force_encoding('BINARY')` commented out because JoiPlay's Ruby had no encodings
